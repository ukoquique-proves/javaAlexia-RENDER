# ============================================
# APPLICATION-PROD.PROPERTIES
# Production Environment Configuration
# ============================================
# This profile is activated automatically on Render via SPRING_PROFILES_ACTIVE=prod
# Database: Render PostgreSQL (internal, not external like Supabase)

# ============================================
# DATABASE CONFIGURATION - PRODUCTION
# ============================================
# Uses Render's internal PostgreSQL database
# Variables are set in Render Dashboard â†’ Environment
# IMPORTANT: Must use Render PostgreSQL (free tier blocks external databases)
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USER}
spring.datasource.password=${DATABASE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ============================================
# JPA & HIBERNATE CONFIGURATION
# ============================================
# 'validate' checks the schema, but doesn't make changes.
# Use 'create' for the first deployment with fresh database, then change to 'update'.
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ============================================
# SERVER CONFIGURATION
# ============================================
# The application will listen on the port provided by the PORT environment variable.
# Render sets this automatically. Defaults to 8080 if not set.
server.port=${PORT:8080}

# ============================================
# VAADIN CONFIGURATION
# ============================================
# This is critical for running in a container. The vaadin-maven-plugin handles this.
vaadin.productionMode=true

# ============================================
# LOGGING CONFIGURATION
# ============================================
logging.level.root=WARN
logging.level.com.alexia=INFO
logging.level.org.springframework.boot=INFO

# ============================================
# ACTUATOR (for Render Health Checks)
# ============================================
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never

